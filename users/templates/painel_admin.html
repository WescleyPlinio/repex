{% extends 'base_user.html' %}
{% load static crispy_forms_tags %}
{% block title %}
Configurações do sistema
{% endblock %}
{% block content %}
<div class="card mb-3">
  <div class="card-header d-flex">
    <h3 class="card-title fw-bold my-auto {% if not identidade_visual.cor_sistema %}text-dark{% endif %}" style="{% if identidade_visual.cor_suplente %}
                   color: {{ identidade_visual.cor_sistema }};
                {% endif %}">Redes sociais</h3>
    <a class="btn btn-success ms-auto" href="{% url 'rede_social_create' %}">Cadastrar</a>
  </div>
  <div class="card-body table-responsive p-0">
    <table class="table table-hover text-nowrap">
      <thead>
        <tr>
          <th>Título</th>
          <th>URL</th>
          <th>Opções</th>
        </tr>
      </thead>
      <tbody>
        {% for r in redes_sociais %}
        <tr>
          <td>{{ r.nome }}</td>
          <td>{{ r.url_base }}</td>
          <td>
            <a href="{% url 'rede_social_update' r.id %}" class="btn btn-sm btn-warning">Editar</a>
            <a class="btn btn-sm btn-danger">Excluir</a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

<div class="card mb-3">
  <div class="card-header d-flex">
    <h3 class="card-title fw-bold my-auto {% if not identidade_visual.cor_sistema %}text-dark{% endif %}" style="{% if identidade_visual.cor_suplente %}
                   color: {{ identidade_visual.cor_sistema }};
                {% endif %}">Áreas de conhecimento</h3>
    <a class="btn btn-success ms-auto" href="{% url 'area_conhecimento_create' %}">Cadastrar</a>
  </div>
  <div class="card-body table-responsive p-0">
    <table class="table table-hover text-nowrap">
      <thead>
        <tr>
          <th>ID</th>
          <th>Nome</th>
          <th>Opções</th>
        </tr>
      </thead>
      <tbody>
        {% for a in areas %}
        <tr>
          <td>{{ a.pk }}</td>
          <td>{{ a.area }}</td>
          <td>
            <a href="{% url 'area_conhecimento_update' a.pk %}" class="btn btn-sm btn-warning">Editar</a>
            <a class="btn btn-sm btn-danger" data-bs-toggle="modal"
              data-bs-target="#confirmarExclusaoAreaConhecimentoModal{{ a.pk }}">Excluir</a>
          </td>
        </tr>
        {% include 'partials/_modal_delete_area_conhecimento.html' %}
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

<div class="card mb-3">
  <div class="card-header d-flex">
    <h3 class="card-title fw-bold my-auto {% if not identidade_visual.cor_sistema %}text-dark{% endif %}" style="{% if identidade_visual.cor_suplente %}
                  color: {{ identidade_visual.cor_sistema }};
                {% endif %}">Identidade visual</h3>
    {% if not identidade_visual %}
    <a class="btn btn-success ms-auto" href="{% url 'identidade_visual_create' %}">Cadastrar</a>
    {% endif %}
  </div>
  <div class="card-body table-responsive p-0">
    <table class="table table-hover text-nowrap">
      <thead>
        <tr>
          <th>Logo</th>
          <th>Cor do sistema</th>
          <th>Cor suplente para o sistema</th>
          <th>Cor dos títulos</th>
        </tr>
      </thead>
      <tbody>
        {% for i in identidades %}
        <tr>
          <td>
            {% if i.logo %}
            <img src="{{ i.logo.url }}" alt="logo do sistema" class="img-fluid" style="max-width: 50px;" />
            {% else %}
            Vazio
            {% endif %}
          </td>
          <td>{{ i.cor_sistema }}</td>
          <td>
            {% if i.cor_suplente %}
            {{ i.cor_suplente }}
            {% else %}
            Vazio
            {% endif %}
          </td>
          <td>{{ i.cor_titulo }}</td>
          <td>
            <a href="{% url 'identidade_visual_update' i.id %}" class="btn btn-sm btn-warning">Editar</a>
            <a class="btn btn-sm btn-danger">Excluir</a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

<div class="card mb-3">
  <div class="card-header d-flex">
    <h3 class="card-title fw-bold my-auto {% if not identidade_visual.cor_sistema %}text-dark{% endif %}" style="{% if identidade_visual.cor_suplente %}
                  color: {{ identidade_visual.cor_sistema }};
                {% endif %}">Instituição</h3>
    {% if not instituicao %}
    <a class="btn btn-success ms-auto" href="{% url 'instituicao_create' %}">Cadastrar</a>
    {% endif %}
  </div>
  <div class="card-body table-responsive p-0">
    <table class="table table-hover text-nowrap">
      <thead>
        <tr>
          <th>Logo</th>
          <th>Nome</th>
          <th>CEP</th>
          <th>Endereço</th>
          <th>Site</th>
        </tr>
      </thead>
      <tbody>
        {% for i in instituicoes %}
        <tr>
          <td>
            {% if i.logo %}
            <img src="{{ i.logo.url }}" alt="logo do sistema" class="img-fluid" style="max-width: 50px;" />
            {% else %}
            Vazio
            {% endif %}
          </td>
          <td>{{ i.nome }}</td>
          <td>
            {% if i.cep %}
            {{ i.cep }}
            {% else %}
            Vazio
            {% endif %}
          </td>
          <td>{{ i.endereco }}</td>
          <td>{{ i.site }}</td>
          <td>
            <a href="{% url 'instituicao_update' i.id %}" class="btn btn-sm btn-warning">Editar</a>
            <a class="btn btn-sm btn-danger">Excluir</a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}