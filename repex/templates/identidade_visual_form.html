{% extends 'base_user.html' %}
{% load static crispy_forms_tags %}
{% block title %}{% if form.instance.pk %}Editar Identidade visual{% else %}Nova Identidade visual{% endif %}{% endblock %}
{% block content %}
  <h3 style="color:{{ identidade_visual.cor_sistema }};" class="mb-3">{% if form.instance.pk %}Editar{% else %}Nova{% endif %} Identidade visual</h3>
  <form method="post" enctype="multipart/form-data" class="card card-body">
    {% csrf_token %}
    {{ form| crispy}}
    <div class="d-flex gap-2">
      <button type="submit" class="btn btn-success">Salvar</button>
      <a class="btn btn-primary" href="{% url "painel" %}">Cancelar</a>
    </div>
  </form>
{% endblock %}
{% block extra_scripts %}
  <script>
    const input = document.getElementById('id_cor_suplente');
    const defaultValue = input.value;

    input.form.addEventListener('submit', () => {
        if (input.value === defaultValue) {
            input.disabled = true; 
        }
    });
  </script>
{% endblock extra_scripts %}
